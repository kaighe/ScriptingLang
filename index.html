<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snekscript Online Editor</title>
    <link rel="stylesheet" href="index.css">
    <script type="module" src="https://pyscript.net/releases/2025.3.1/core.js"></script>

    <py-config>
        {
            "files": {
                "./snek.py": "./snek.py"
            }
        }
    </py-config>
</head>

<body>
    <div class="container">
        <textarea autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" id="input">
a = 6 - 1
b = 8 / 2
c = a + b
test = c

print: test * 2
print: 5^2</textarea>

        <div id="output"></div>
        <div class="button-holder">
            <button id="run-button" py-click="run_code" disabled>Loading...</button>
        </div>
    </div>

    <script type="py" target="output" hidden>
        from pyscript import document, when, display
        import snek

        def run_code(e):
            interpreter = snek.Interpreter()
            interpreter.run(snek.Parser.parse(document.getElementById("input").value))
            display(interpreter.out, append=False)

        document.getElementById("run-button").innerText = "Run"
        document.getElementById("run-button").disabled = False
        run_code(1)
    </script>
</body>
</html>